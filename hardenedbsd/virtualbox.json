{ 
    "variables": {
        "os_type": "FreeBSD_64",
        "repository": "installer.hardenedbsd.org",
        "release": "12-stable",
        "arch": "amd64",
        "checksum": "849a184e5c50602e3e344d61fdbc04704807845a73e13ba52910e0b17d9d7106c5b2827064841e03145765b9f6a9c5a05f2e276173e6f1edb5a767bc16393bf3",
        "checksum_type": "sha512",
        "root_password": "vagrant",
        "user_password": "vagrant"
    },
    "builders": [{
        "headless": true,
        "type": "virtualbox-iso",
        "guest_os_type": "{{user `os_type`}}",
        "iso_url": "https://{{user `repository`}}/pub/hardenedbsd/{{user `release`}}/{{user `arch`}}/{{user `arch`}}/BUILD-LATEST/disc1.iso",
        "iso_checksum": "{{user `checksum`}}",
        "iso_checksum_type": "{{user `checksum_type`}}",
        "ssh_username": "vagrant",
        "ssh_password": "{{user `user_password`}}",
        "boot_wait": "40s",
        "headless": true,
        "boot_command": [
            "<enter><wait>",
            "<enter><wait>",
            "{{user `hostname`}}<enter><wait>",
            "<enter><wait>",
            "<enter><wait>",
            "<enter><wait>",
            "<enter><wait>",
            "<enter><wait30s>",
            "N<wait>",
            "<enter><wait>",
            "<enter><wait>",
            "<enter><wait>",
            "<enter><wait>",
            "<enter><wait>",
            "<enter><wait>",
            "<enter><wait7m>",
            "{{user `root_password`}}<enter><wait>",
            "{{user `root_password`}}<enter><wait>",
            "a<enter><wait>",
            "Y<wait>",
            "<enter><wait>",
            "<enter><wait>",
            "<enter><wait>",
            "<enter><wait>",
            "Y<enter><wait5>",
            "vagrant<enter><wait>",
            "vagrant<enter><wait>",
            "<enter><wait>",
            "<enter><wait>",
            "wheel<enter><wait>",
            "default<enter><wait>",
            "sh<enter><wait>",
            "/home/vagrant<enter><wait>",
            "<enter><wait>",
            "yes<enter><wait>",
            "no<enter><wait>",
            "no<enter><wait>",
            "{{user `user_password`}}<enter><wait>",
            "{{user `user_password`}}<enter><wait>",
            "no<enter><wait>",
            "yes<enter><wait>",
            "no<enter><wait>",
            "<enter><wait>",
            "Y<enter><wait>",
            "freebsd-update fetch<enter><wait5m>",
            "q<enter><wait>",
            "freebsd-update install<enter><wait5m>",
            "export ASSUME_ALWAYS_YES=yes<enter><wait>",
            "pkg<enter><wait30s>",
            "pkg update<enter><wait1m>",
            "pkg install -y sudo<enter><wait30s>",
            "exit<enter><wait>",
            "<enter><wait>",
            "<wait1m>"
        ]}
                ],
    "provisioners": [  
        { "type": "shell",
          "inline": ["uname -a"] }
    ],
    "post-processors": ["vagrant"]
}
