{ 
  "variables": {
    "os_type": "FreeBSD_64",
    "repository": "ftp.fr.freebsd.org",
    "release": "12.1",
    "arch": "amd64",
    "checksum": "6c355def68b3c0427f21598cb054ffc893568902f205601ac60f192854769b31bc9cff8eeb6ce99ef975a8fb887d8d3e56fc6cd5ea5cb4b3bba1175c520047cb",
    "checksum_type": "sha512",
    "hostname": "freebsd.vagrant",
    "root_password": "vagrant",
    "user_password": "vagrant"
  },
  "builders": [{
    "headless": true,
    "type": "virtualbox-iso",
    "guest_os_type": "{{user `os_type`}}",
    "iso_url": "https://{{user `repository`}}/pub/FreeBSD/releases/ISO-IMAGES/{{user `release`}}/FreeBSD-{{user `release`}}-RELEASE-{{user `arch`}}-bootonly.iso",
    "iso_checksum": "{{user `checksum`}}",
    "iso_checksum_type": "{{user `checksum_type`}}",
    "ssh_username": "vagrant",
    "ssh_password": "{{user `user_password`}}",
    "boot_wait": "40s",
    "boot_command": [
      "<enter><wait>",
      "<enter><wait>",
      "{{user `hostname`}}<enter><wait>",
      "<enter><wait>",
      "<enter><wait>",
      "<enter><wait>",
      "<enter><wait>",
      "<enter><wait30s>",
      "N<wait>",
      "<enter><wait>",
      "<enter><wait>",
      "<enter><wait>",
      "<enter><wait>",
      "<enter><wait>",
      "<enter><wait>",
      "<enter><wait7m>",
      "{{user `root_password`}}<enter><wait>",
      "{{user `root_password`}}<enter><wait>",
      "a<enter><wait>",
      "Y<wait>",
      "<enter><wait>",
      "<enter><wait>",
      "<enter><wait>",
      "<enter><wait>",
      "Y<enter><wait5>",
      "vagrant<enter><wait>",
      "vagrant<enter><wait>",
      "<enter><wait>",
      "<enter><wait>",
      "wheel<enter><wait>",
      "default<enter><wait>",
      "sh<enter><wait>",
      "/home/vagrant<enter><wait>",
      "<enter><wait>",
      "yes<enter><wait>",
      "no<enter><wait>",
      "no<enter><wait>",
      "{{user `user_password`}}<enter><wait>",
      "{{user `user_password`}}<enter><wait>",
      "no<enter><wait>",
      "yes<enter><wait>",
      "no<enter><wait>",
      "<enter><wait>",
      "Y<enter><wait>",
      "freebsd-update fetch<enter><wait5m>",
      "q<enter><wait>",
      "freebsd-update install<enter><wait5m>",
      "export ASSUME_ALWAYS_YES=yes<enter><wait>",
      "pkg<enter><wait30s>",
      "pkg update<enter><wait1m>",
      "pkg install -y sudo<enter><wait30s>",
      "exit<enter><wait>",
      "<enter><wait>",
      "<wait1m>"
    ]}
  ],
  "provisioners": [  
     { "type": "shell",
       "inline": ["uname -a"] 
     }
  ],
  "post-processors": ["vagrant"]
}
